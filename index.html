<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ranch Lab – Home</title>
  <style>
    :root { 
      --bg:#faf7ff;
      --ink:#1f2937; 
      --ink2:#4b5563; 
      --brand:#6d28d9; 
      --card:#ffffff; 
      --line:#e5e7eb;
      --success:#10b981;
      --warning:#f59e0b;
      --shadow: 0 10px 25px rgba(17, 24, 39, 0.07);
      --modal-purple:#f3e8ff; /* modal purple background */
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Inter, Helvetica, Arial, sans-serif;
      color: var(--ink);
      background: var(--bg);
      line-height: 1.6;
    }
    a { color: var(--brand); text-decoration: none; }
    a:hover { text-decoration: underline; }

    header {
      position: sticky; top: 0;
      backdrop-filter: saturate(140%) blur(6px);
      background: rgba(250, 247, 255, 0.85);
      border-bottom: 1px solid var(--line);
      z-index: 50;
    }
    .nav { max-width: 900px; margin: auto; display: flex; gap: 16px; align-items: center; justify-content: space-between; padding: 12px 16px; }

    main { max-width: 900px; margin: 24px auto; padding: 0 16px; }
    section { background: var(--card); border: 1px solid var(--line); border-radius: 16px; padding: 24px; margin: 24px 0; box-shadow: 0 2px 10px rgba(0,0,0,.03); }
    h1 { font-size: 32px; margin: 0 0 8px; font-weight: 700; }
    h2 { font-size: 24px; margin: 0 0 16px; font-weight: 600; }
    h3 { font-size: 18px; margin: 0 0 8px; font-weight: 600; }
    p { color: var(--ink2); margin: 8px 0; }

    /* How it works */
    .how-wrap { display: grid; grid-template-columns: 1fr; gap: 16px; align-items: center; }
    @media (min-width: 768px) { .how-wrap { grid-template-columns: 1fr auto 1fr auto 1fr; } }
    .how-card { background: linear-gradient(180deg, #ffffff 0%, #f3f4f6 100%); border: 1px solid var(--line); border-radius: 16px; padding: 24px; text-align: center; box-shadow: var(--shadow); }
    .how-num { width: 40px; height: 40px; border-radius: 999px; margin: 0 auto 12px; background: var(--brand); color: #fff; display: grid; place-items: center; font-weight: 800; box-shadow: 0 6px 18px rgba(109,40,217,.35); }
    .how-arrow { display: none; font-size: 22px; color: var(--brand); font-weight: 800; text-align: center; }
    @media (min-width: 768px) { .how-arrow { display: block; } }

    .grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
    @media (min-width: 768px) { .grid { grid-template-columns: 1fr 1fr; } .grid-3 { grid-template-columns: 1fr 1fr 1fr; } }

    .card { border: 1px solid var(--line); border-radius: 12px; padding: 16px; background: var(--card); }
    .menu-item { border: 1px solid var(--line); border-radius: 12px; padding: 16px; background: var(--card); transition: border-color .2s; }
    .menu-item:hover { border-color: var(--brand); }
    .muted { color: var(--ink2); }

    .btn { appearance: none; border: 0; background: var(--brand); color: #fff; padding: 12px 20px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 14px; transition: background .2s; text-align: center; display: inline-block; }
    .btn:hover { background: #5b21b6; }
    .btn:disabled { opacity: .5; cursor: not-allowed; }
    .btn-outline { background:#fff; color: var(--brand); border: 2px solid var(--brand); }
    .btn-outline:hover { background: rgba(109,40,217,.06); }
    .cta { display:flex; gap:12px; flex-wrap:wrap; margin-top:12px; }

    .form-row { display: flex; flex-direction: column; gap: 6px; margin: 12px 0; }
    input[type=text],input[type=email],input[type=tel],input[type=number],select { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--line); font-size: 14px; background: #fff; }
    input[type=number]{ max-width: 80px; }

    .price-display { font-weight: 600; color: var(--brand); font-size: 18px; margin: 8px 0; }
    .item-total { font-size: 14px; color: var(--ink2); margin-top: 8px; }

    .order-summary { background: #f8fafc; padding: 16px; border-radius: 8px; margin: 16px 0; min-height: 60px; }
    .totals { display: grid; grid-template-columns: 1fr auto; row-gap: 8px; column-gap: 20px; margin: 16px 0; }
    .totals div:last-child { text-align: right; }

    .fulfillment-options { display: flex; gap: 20px; margin: 24px 0; justify-content: center; flex-wrap: wrap; }
    .fulfillment-btn { flex: 1; min-width: 240px; max-width: 280px; padding: 24px 20px; background: var(--card); border: 2px solid var(--line); border-radius: 16px; cursor: pointer; transition: all .2s ease; text-align: center; }
    .fulfillment-btn:hover { border-color: var(--brand); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(109,40,217,.15); }
    .fulfillment-btn.selected { border-color: var(--brand); background: rgba(109,40,217,.05); box-shadow: 0 4px 20px rgba(109,40,217,.2); }
    .fulfillment-icon { font-size: 32px; margin-bottom: 12px; }

    .schedule-container { background: #f8fafc; border-radius: 12px; padding: 20px; margin: 16px 0; border: 1px solid var(--line); }
    .schedule-explanation { color: var(--ink2); margin: 0 0 16px; font-style: italic; text-align: center; }
    .date-time-selector { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media (max-width: 768px) { .date-time-selector { grid-template-columns: 1fr; } }

    .order-item { display: flex; justify-content: space-between; align-items: flex-start; padding: 12px 0; border-bottom: 1px solid #e5e7eb; }
    .order-item:last-child { border-bottom: none; }
    .order-item-name { font-weight: 500; color: var(--ink); margin-bottom: 4px; }
    .order-item-qty { font-size: 14px; color: var(--ink2); }
    .order-item-price { font-weight: 500; color: var(--ink); }

    footer { max-width: 900px; margin: 28px auto; padding: 0 16px 40px; color: var(--ink2); text-align: center; }
    .hero { display: flex; flex-direction: column; gap: 12px; margin: 8px 0 8px; }

    /* Message Box */
    .message-box { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background-color: var(--warning); color: #fff; padding: 12px 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, .1); z-index: 100; transition: opacity .3s; opacity: 0; }
    .message-box.show { opacity: 1; }

    /* Modal */
    .modal-backdrop { position: fixed; inset: 0; background: rgba(17,24,39,.5); display: none; align-items: center; justify-content: center; padding: 16px; z-index: 1000; }
    .modal-backdrop.show { display: flex; }
    .modal-card {
      background: var(--modal-purple);
      border: 1px solid var(--line);
      border-radius: 16px;
      box-shadow: var(--shadow);
      width: 20cm;   /* doubled width */
      height: 20cm;  /* doubled height */
      overflow: auto;
      padding: 20px;
      position: relative;
      color: #1f2937;
    }
    .modal-close { position: absolute; top: 10px; right: 12px; border: 0; background: transparent; cursor: pointer; font-size: 22px; color: var(--ink); }
    .modal-close:hover { opacity: .8; }
    .modal-card h2 { margin: 0 24px 8px 0; }

    @media (max-width: 800px) {
      .modal-card { width: 95vw; height: 90vh; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header><nav class="nav" aria-label="primary"></nav></header>

  <main>
    <div id="message-box" class="message-box"></div>

    <!-- Intro -->
    <section id="intro">
      <div class="hero">
        <h1>Fire-inspired cooking crafted from my travels</h1>
        <div class="cta">
          <a class="btn" id="openStory" href="#">My Story</a>
          <a class="btn btn-outline" href="#menu">My Cooking</a>
        </div>
      </div>
    </section>

    <!-- How It Works -->
    <section id="how">
      <h2>How It Works</h2>
      <div class="how-wrap">
        <div class="how-card"><div class="how-num">1</div><h3>Choose Your Menu</h3><p class="muted">Select from our seasonal offerings crafted with intention</p></div>
        <div class="how-arrow">→</div>
        <div class="how-card"><div class="how-num">2</div><h3>Select Pickup or Delivery</h3><p class="muted">Pick up at our kitchen or arrange Uber delivery</p></div>
        <div class="how-arrow">→</div>
        <div class="how-card"><div class="how-num">3</div><h3>Order</h3><p class="muted">Secure checkout with instant confirmation</p></div>
      </div>
    </section>

    <!-- Menu (same as before) -->
    <!-- ... menu and order sections unchanged ... -->

    <!-- Payment / Summary (same as before) -->
    <!-- ... payment section unchanged ... -->
  </main>

  <footer>
    <hr style="border:0; border-top:1px solid var(--line); margin:20px 0;"/>
    <div class="note" style="margin-top:12px;">
      Questions? <a href="mailto:milos@ranchlab.is">milos@ranchlab.is</a> · 
      <a href="tel:+13106660797">(310) 666-0797</a>
    </div>
  </footer>

  <!-- My Story Modal -->
  <div id="storyModal" class="modal-backdrop" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="storyTitle">
      <button class="modal-close" aria-label="Close" id="closeStory">&times;</button>
      <h2 id="storyTitle">My Story: From the Ocean to the Fire</h2>
      <p>I’m Milos, a longtime Bay Area resident, new Piedmont neighbor, first-time dad, and former sustainable fashion entrepreneur. Last August, I sold my third company: a zero-plastic apparel brand built on the principles of circularity. We created apparel and footwear designed to last a lifetime, yet capable of being composted back into soil that can grow anything green and alive.</p>
      <p>After years of building businesses, I’ve decided to follow a different path and one of my deepest personal passions: food and wellness. Cooking has always been a daily ritual in our home, especially since becoming a parent. Friends and family kept telling me, “You should offer this to others.” So I am. And as with everything I’ve built, I’m doing it in a way that feels entirely my own.</p>
      <p>Spearfishing was my stepping stone to true freshness. That first yellowtail and yellowfin I caught, hours from ocean to plate, taught me that when ingredients are this pure, they need almost nothing more.</p>
      <p>The same is true for everything I cook with.  I want to know the story behind each ingredient: where it came from, how it was made, and who made it. Just as wine lovers trace a winemaker’s path to each vintage, I search for those “winemakers” in every element of food. From hand-pressed olive oil to centuries-old fermentation techniques, the process matters as much as the outcome because the process is the alchemy. It’s a living library, and every ingredient holds a chapter worth studying.</p>
      <p>To me, flavor is a fine balance between purity and complexity. When done right, flavor is also health. We evaluate growers, makers, and artisans through flavor. When the balance is just right, that evaluation turns into trust. That trust extends to our health, because when food is grown and made with integrity, health follows naturally.</p>
      <p>Flavor is our contract with the growers, makers, and artisans we work with. The better the flavor, the deeper the bond. My goal is to create the strongest bond possible.</p>
      <p>Fire is how I honor that contract. It demands patience and presence. Wood is nature’s seasoning, each variety leaving its own signature. Mesquite is the full-bodied cabernet of woods. Fruit woods bring a gentle, fragrant sweetness. Together, they create new possibilities but also demand restraint and intuition to truly heighten each ingredient’s essence.</p>
      <p>What I share isn’t just a meal. It’s the sum of relationships, craft, and a relentless pursuit of flavor, health, joy, creativity, and sustainability. This fall marks the first chapter: a menu inspired by the fire traditions of San Sebastián and the visionary chef behind Asador Etxebarri, whose mastery has inspired chefs around the world to embrace the art of cooking over live fire.</p>
    </div>
  </div>

  <script>
    // Modal logic
    (function modal(){
      const openBtn = document.getElementById('openStory');
      const modal = document.getElementById('storyModal');
      const closeBtn = document.getElementById('closeStory');

      function openModal(e){ if(e) e.preventDefault(); modal.classList.add('show'); modal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
      function closeModal(){ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }

      openBtn.addEventListener('click', openModal);
      closeBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', e=>{ if(e.target===modal) closeModal(); });
      document.addEventListener('keydown', e=>{ if(e.key==='Escape' && modal.classList.contains('show')) closeModal(); });
    })();
  </script>
</body>
</html>
